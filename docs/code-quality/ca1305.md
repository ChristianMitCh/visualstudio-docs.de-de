---
title: 'CA1305: IFormatProvider angeben'
ms.date: 06/30/2018
ms.topic: reference
f1_keywords:
- SpecifyIFormatProvider
- CA1305
helpviewer_keywords:
- CA1305
- SpecifyIFormatProvider
ms.assetid: fb34ed9a-4eab-47cc-8eef-3068a4a1397e
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
ms.workload:
- multiple
ms.openlocfilehash: a2ea6ab9364e2e183b782f4d3084cd2b5eb6dd45
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/21/2020
ms.locfileid: "81649155"
---
# <a name="ca1305-specify-iformatprovider"></a>CA1305: IFormatProvider angeben

|||
|-|-|
|TypName|SpecifyIFormatProvider|
|CheckId|CA1305|
|Kategorie|Microsoft.Globalisierung|
|Unterbrechende Änderung|Nicht unterbrechend|

## <a name="cause"></a>Ursache

Eine Methode oder ein Konstruktor ruft ein oder <xref:System.IFormatProvider?displayProperty=fullName> mehrere Member auf, die Überladungen haben, die <xref:System.IFormatProvider> einen Parameter akzeptieren, und die Methode oder der Konstruktor ruft die Überladung, die den Parameter übernimmt, nicht auf.

Diese Regel ignoriert Aufrufe von .NET-Methoden, <xref:System.IFormatProvider> die als Ignorieren des Parameters dokumentiert werden. Die Regel ignoriert auch die folgenden Methoden:

- <xref:System.Activator.CreateInstance%2A?displayProperty=nameWithType>
- <xref:System.Resources.ResourceManager.GetObject%2A?displayProperty=nameWithType>
- <xref:System.Resources.ResourceManager.GetString%2A?displayProperty=nameWithType>
- <xref:System.Boolean.ToString%2A?displayProperty=nameWithType>
- <xref:System.Char.ToString%2A?displayProperty=nameWithType>
- <xref:System.Guid.ToString%2A?displayProperty=nameWithType>

## <a name="rule-description"></a>Regelbeschreibung

Wenn <xref:System.Globalization.CultureInfo?displayProperty=nameWithType> ein <xref:System.IFormatProvider> oder ein Objekt nicht angegeben wird, hat der Vom überladenen Member bereitgestellte Standardwert möglicherweise nicht den gewünschten Effekt in allen Gebietsschemas. Außerdem wählen .NET-Mitglieder die Standardkultur und -formatierung basierend auf Annahmen aus, die für Ihren Code möglicherweise nicht korrekt sind. Um sicherzustellen, dass der Code wie erwartet für Ihre Szenarien funktioniert, sollten Sie kulturspezifische Informationen gemäß den folgenden Richtlinien bereitstellen:

- Wenn der Wert dem Benutzer angezeigt wird, verwenden Sie die aktuelle Kultur. Siehe <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType>.

- Wenn der Wert gespeichert und von der Software (in einer Datei oder Datenbank beibehalten) abgerufen wird, verwenden Sie die invariante Kultur. Siehe <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.

- Wenn Sie das Ziel des Werts nicht kennen, lassen Sie den Datenverbraucher oder -anbieter die Kultur angeben.

Auch wenn das Standardverhalten des überladenen Elements für Ihre Anforderungen geeignet ist, ist es besser, die kulturspezifische Überladung explizit aufzurufen, damit Ihr Code selbst dokumentiert und einfacher verwaltet werden kann.

## <a name="how-to-fix-violations"></a>Behandeln von Verstößen

Um einen Verstoß gegen diese Regel zu beheben, verwenden Sie die Überladung, die ein <xref:System.IFormatProvider> Argument annimmt. Oder verwenden Sie eine [interpolierte Zeichenfolge](/dotnet/csharp/tutorials/string-interpolation) von <xref:System.FormattableString.Invariant%2A?displayProperty=nameWithType> C' und übergeben Sie sie an die Methode.

## <a name="when-to-suppress-warnings"></a>Wann Warnungen unterdrückt werden sollen

Es ist sicher, eine Warnung dieser Regel zu unterdrücken, wenn sicher ist, dass das Standardformat die richtige Wahl ist und die Codewartbarkeit keine wichtige Entwicklungspriorität darstellt.

## <a name="example"></a>Beispiel

Im folgenden Code `example1` verstößt die Zeichenfolge gegen die Regel CA1305. Die `example2` Zeichenfolge erfüllt die Regel CA1305, indem <xref:System.IFormatProvider>sie <xref:System.String.Format(System.IFormatProvider,System.String,System.Object)?displayProperty=nameWithType>, die implementiert , an überträgt. <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> Die `example3` Zeichenfolge erfüllt die Regel CA1305, indem sie <xref:System.FormattableString.Invariant%2A?displayProperty=fullName]>eine interpolierte Zeichenfolge an übergibt.

```csharp
string name = "Georgette";

// Violates CA1305
string example1 = String.Format("Hello {0}", name);

// Satisfies CA1305
string example2 = String.Format(CultureInfo.CurrentCulture, "Hello {0}", name);

// Satisfies CA1305
string example3 = FormattableString.Invariant($"Hello {name}");
```

## <a name="related-rules"></a>Verwandte Regeln

- [CA1304: CultureInfo angeben](../code-quality/ca1304.md)

## <a name="see-also"></a>Siehe auch

- [Verwenden der CultureInfo-Klasse](/dotnet/standard/globalization-localization/globalization#work-with-culture-specific-settings)
