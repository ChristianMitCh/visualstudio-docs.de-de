---
title: 'CA2227: Auflistungseigenschaften sollten schreibgeschützt sein'
ms.date: 09/28/2018
ms.topic: reference
f1_keywords:
- CA2227
- CollectionPropertiesShouldBeReadOnly
helpviewer_keywords:
- CA2227
- CollectionPropertiesShouldBeReadOnly
ms.assetid: 26967aaf-6fbe-438a-b4d3-ac579b5dc0f9
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
- VB
- CPP
ms.workload:
- multiple
ms.openlocfilehash: b3884a817610aa2c67c9e00d6251f4dbc63662e9
ms.sourcegitcommit: 4bcd6abb89feff1cf8251e3ded73fdc30b67e347
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2020
ms.locfileid: "81615606"
---
# <a name="ca2227-collection-properties-should-be-read-only"></a>CA2227: Auflistungseigenschaften sollten schreibgeschützt sein

|||
|-|-|
|TypName|CollectionPropertiesShouldBeReadOnly|
|CheckId|CA2227|
|Category|Microsoft.Usage|
|Unterbrechende Änderung|Breaking|

## <a name="cause"></a>Ursache

Eine extern sichtbare, beschreibbare Eigenschaft ist <xref:System.Collections.ICollection?displayProperty=fullName>von einem Typ, der implementiert. Diese Regel ignoriert Arrays, Indexer (Eigenschaften mit dem Namen 'Item'), unveränderliche Auflistungen, schreibgeschützte Auflistungen und Berechtigungssätze.

## <a name="rule-description"></a>Regelbeschreibung

Eine beschreibbare Auflistungseigenschaft ermöglicht es einem Benutzer, die Auflistung durch eine völlig andere Auflistung zu ersetzen. Eine schreibgeschützte Eigenschaft verhindert, dass die Auflistung ersetzt wird, lässt jedoch zu, dass die einzelnen Member festgelegt werden. Wenn das Ersetzen der Auflistung ein Ziel ist, besteht das bevorzugte Entwurfsmuster darin, eine Methode zum Entfernen aller Elemente aus der Auflistung und eine Methode zum erneuten Auffüllen der Auflistung einzuschließen. Ein <xref:System.Collections.ArrayList.Clear%2A> Beispiel <xref:System.Collections.ArrayList.AddRange%2A> für <xref:System.Collections.ArrayList?displayProperty=fullName> dieses Muster finden Sie unter und Methoden der Klasse.

Sowohl die Binär- als auch die XML-Serialisierung unterstützen schreibgeschützte Eigenschaften, die Auflistungen sind. Die <xref:System.Xml.Serialization.XmlSerializer?displayProperty=fullName> Klasse hat spezifische Anforderungen <xref:System.Collections.ICollection> <xref:System.Collections.IEnumerable?displayProperty=fullName> für Typen, die implementiert werden und serialisierbar sein können.

## <a name="how-to-fix-violations"></a>Behandeln von Verstößen

Um einen Verstoß gegen diese Regel zu beheben, machen Sie die Eigenschaft schreibgeschützt. Wenn der Entwurf dies erfordert, fügen Sie Methoden hinzu, um die Auflistung zu löschen und erneut aufzufüllen.

## <a name="when-to-suppress-warnings"></a>Wann Warnungen unterdrückt werden sollen

Sie können die Warnung unterdrücken, wenn die Eigenschaft Teil einer [DTO-Klasse (Data Transfer Object)](/previous-versions/msp-n-p/ff649585(v=pandp.10)) ist.

Andernfalls können Sie Warnungen aus dieser Regel nicht unterdrücken.

## <a name="example"></a>Beispiel

Das folgende Beispiel zeigt einen Typ mit einer beschreibbaren Auflistungseigenschaft und zeigt, wie die Auflistung direkt ersetzt werden kann. Darüber hinaus wird die bevorzugte Art und Weise `Clear` angezeigt, eine schreibgeschützte Auflistungseigenschaft mithilfe und `AddRange` Methoden zu ersetzen.

[!code-csharp[FxCop.Usage.PropertiesReturningCollections#1](../code-quality/codesnippet/CSharp/ca2227-collection-properties-should-be-read-only_1.cs)]
[!code-vb[FxCop.Usage.PropertiesReturningCollections#1](../code-quality/codesnippet/VisualBasic/ca2227-collection-properties-should-be-read-only_1.vb)]
[!code-cpp[FxCop.Usage.PropertiesReturningCollections#1](../code-quality/codesnippet/CPP/ca2227-collection-properties-should-be-read-only_1.cpp)]

## <a name="related-rules"></a>Verwandte Regeln

- [CA1819: Eigenschaften sollten keine Arrays zurückgeben](../code-quality/ca1819.md)
