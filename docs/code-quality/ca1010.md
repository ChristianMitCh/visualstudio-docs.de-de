---
title: 'CA1010: Auflistungen müssen eine generische Schnittstelle implementieren'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
helpviewer_keywords:
- CA1010
- CollectionsShouldImplementGenericInterface
ms.assetid: c7d7126f-fa70-40be-8f93-3243e1760dc5
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: a5aec731f453ae7e29f74d6c0198cf16d1ca1f77
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/21/2020
ms.locfileid: "81648483"
---
# <a name="ca1010-collections-should-implement-generic-interface"></a>CA1010: Auflistungen müssen eine generische Schnittstelle implementieren

|||
|-|-|
|TypName|CollectionsShouldImplementGenericInterface|
|CheckId|CA1010|
|Kategorie|Microsoft.Design|
|Unterbrechende Änderung|Nicht unterbrechend|

## <a name="cause"></a>Ursache

Ein Typ implementiert <xref:System.Collections.IEnumerable?displayProperty=fullName> die Schnittstelle, <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName> aber nicht die Schnittstelle, und die enthaltende Assembly zielt auf .NET. Diese Regel ignoriert Typen, die implementieren. <xref:System.Collections.IDictionary?displayProperty=fullName>

Standardmäßig betrachtet diese Regel nur extern sichtbare Typen, aber diese ist [konfigurierbar.](#configurability) Sie können auch zusätzliche Schnittstellen konfigurieren, um die Implementierung einer generischen Schnittstelle zu erfordern.

## <a name="rule-description"></a>Regelbeschreibung

Um die Verwendbarkeit einer Auflistung zu erweitern, implementieren Sie eine der generischen Auflistungsschnittstellen. Anschließend kann die Auflistung verwendet werden, um generische Auflistungstypen wie die folgenden aufzufüllen:

- <xref:System.Collections.Generic.List%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Queue%601?displayProperty=fullName>
- <xref:System.Collections.Generic.Stack%601?displayProperty=fullName>

## <a name="how-to-fix-violations"></a>Behandeln von Verstößen

Um einen Verstoß gegen diese Regel zu beheben, implementieren Sie eine der folgenden generischen Auflistungsschnittstellen:

- <xref:System.Collections.Generic.IEnumerable%601?displayProperty=fullName>
- <xref:System.Collections.Generic.ICollection%601?displayProperty=fullName>
- <xref:System.Collections.Generic.IList%601?displayProperty=fullName>

## <a name="when-to-suppress-warnings"></a>Wann Warnungen unterdrückt werden sollen

Es ist sicher, eine Warnung aus dieser Regel zu unterdrücken; Die Nutzung der Sammlung wird jedoch eingeschränkter sein.

## <a name="configurability"></a>Konfigurierbarkeit

Wenn Sie diese Regel von [FxCop-Analysatoren](install-fxcop-analyzers.md) (und nicht mit Legacyanalyse) ausführen, können Sie basierend auf ihrer Zugänglichkeit konfigurieren, auf welchen Teilen ihrer Codebasis diese Regel ausgeführt werden soll. Um beispielsweise anzugeben, dass die Regel nur für die nicht öffentliche API-Oberfläche ausgeführt werden soll, fügen Sie der .editorconfig-Datei in Ihrem Projekt das folgende Schlüssel-Wert-Paar hinzu:

```ini
dotnet_code_quality.ca1010.api_surface = private, internal
```

Sie können diese Option nur für diese Regel, für alle Regeln oder für alle Regeln in dieser Kategorie (Entwurf) konfigurieren. Weitere Informationen finden Sie unter Konfigurieren von [FxCop-Analysatoren](configure-fxcop-analyzers.md).

### <a name="additional-required-generic-interfaces"></a>Zusätzliche erforderliche generische Schnittstellen

Sie können die Liste der Schnittstellennamen (getrennt durch '|') mit der erforderlichen generischen vollqualifizierten Schnittstelle (getrennt durch '->') konfigurieren.

Zulässige Schnittstellenformate:

- Nur Schnittstellenname (enthält alle Schnittstellen mit dem Namen, unabhängig vom enthaltenden Typ oder Namespace).
- Vollqualifizierte Namen im Dokumentations-ID-Format des Symbols: https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format mit einem optionalen Präfix "T:".

Beispiele:

| Optionswert | Zusammenfassung |
| --- | --- |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = ISomething->System.Collections.Generic.IEnumerable`\``1`| Es wird erwartet, dass alle Typen, die 'ISomething' unabhängig von ihrem Namespace implementieren, auch 'System.Collections.Generic.IEnumerable'1' implementieren. |
|`dotnet_code_quality.CA1010.additional_required_generic_interfaces = T:System.Collections.IDictionary->T:System.Collections.Generic.IDictionary`\``2`| Alle Typen, die 'System.Collections.Generic.IDictionary' implementieren, werden voraussichtlich auch 'System.Collections.Generic.IDictionary'2' implementieren. |

## <a name="example-violation"></a>Beispielverletzung

Das folgende Beispiel zeigt eine Klasse (Referenztyp), die `CollectionBase` von der nicht generischen Klasse stammt, die gegen diese Regel verstößt.

[!code-csharp[FxCop.Design.CollectionsGenericViolation#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_1.cs)]

Gehen Sie wie folgt vor, um einen Verstoß gegen diese Regel zu beheben:

- Implementieren Sie die generischen Schnittstellen.
- Ändern Sie die Basisklasse in einen Typ, der bereits sowohl die `Collection<T>` generischeals als auch die nicht generische Nagenzschnittstelle implementiert, z. B. die Klasse.

## <a name="fix-by-base-class-change"></a>Fix durch Basisklassenänderung

Im folgenden Beispiel wird die Verletzung behoben, indem die Basisklasse der Auflistung von der nicht generischen `CollectionBase` Klasse in die generische `Collection<T>` (in`Collection(Of T)` Visual Basic) Klasse geändert wird.

[!code-csharp[FxCop.Design.CollectionsGenericBase#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_2.cs)]

Das Ändern der Basisklasse einer bereits freigegebenen Klasse wird als brechende Änderung für vorhandene Consumer betrachtet.

## <a name="fix-by-interface-implementation"></a>Fix nach Schnittstellenimplementierung

Im folgenden Beispiel wird die Verletzung behoben, `IEnumerable<T>` `ICollection<T>`indem `IList<T>` diese`IEnumerable(Of T)` `ICollection(Of T)`generischen `IList(Of T)` Schnittstellen implementiert werden: , und ( , , und in Visual Basic).

[!code-csharp[FxCop.Design.CollectionsGenericInterface#1](../code-quality/codesnippet/CSharp/ca1010-collections-should-implement-generic-interface_3.cs)]

## <a name="related-rules"></a>Verwandte Regeln

- [CA1005: Übermäßige Anzahl von Parametern in generischen Typen vermeiden](../code-quality/ca1005.md)
- [CA1000: Statische Member nicht in generischen Typen deklarieren](../code-quality/ca1000.md)
- [CA1002: Generische Listen nicht verfügbar machen](../code-quality/ca1002.md)
- [CA1006: Generische Typen in Membersignaturen nicht schachteln](../code-quality/ca1006.md)
- [CA1004: Generische Methoden müssen den Typparameter angeben](../code-quality/ca1004.md)
- [CA1003: Generische Ereignishandlerinstanzen verwenden](../code-quality/ca1003.md)
- [CA1007: Nach Möglichkeit Generics verwenden](../code-quality/ca1007.md)

## <a name="see-also"></a>Siehe auch

- [Generics](/dotnet/csharp/programming-guide/generics/index)
