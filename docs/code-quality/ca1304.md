---
title: 'CA1304: CultureInfo angeben'
ms.date: 06/30/2018
ms.topic: reference
f1_keywords:
- SpecifyCultureInfo
- CA1304
helpviewer_keywords:
- SpecifyCultureInfo
- CA1304
ms.assetid: b912d76a-54fd-4c93-b25d-16491e0ae319
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 668555c6247b45fea9e472ab5347d692243c1d9f
ms.sourcegitcommit: ade07bd1cf69b8b494d171ae648cfdd54f7800d3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/21/2020
ms.locfileid: "81649129"
---
# <a name="ca1304-specify-cultureinfo"></a>CA1304: CultureInfo angeben

|||
|-|-|
|TypName|SpecifyCultureInfo|
|CheckId|CA1304|
|Kategorie|Microsoft.Globalisierung|
|Unterbrechende Änderung|Nicht unterbrechend|

## <a name="cause"></a>Ursache

Eine Methode oder ein Konstruktor ruft einen Member <xref:System.Globalization.CultureInfo?displayProperty=nameWithType> auf, der über eine Überladung verfügt, die <xref:System.Globalization.CultureInfo> einen Parameter akzeptiert, und die Methode oder der Konstruktor ruft die Überladung, die den Parameter annimmt, nicht auf. Diese Regel ignoriert Aufrufe der folgenden Methoden:

- <xref:System.Activator.CreateInstance%2A?displayProperty=nameWithType>
- <xref:System.Resources.ResourceManager.GetObject%2A?displayProperty=nameWithType>
- <xref:System.Resources.ResourceManager.GetString%2A?displayProperty=nameWithType>

Sie können auch mehrere Symbole [so konfigurieren,](#configurability) dass sie von dieser Regel ausgeschlossen werden.

## <a name="rule-description"></a>Regelbeschreibung

Wenn <xref:System.Globalization.CultureInfo> ein <xref:System.IFormatProvider?displayProperty=nameWithType> oder ein Objekt nicht angegeben wird, hat der Vom überladenen Member bereitgestellte Standardwert möglicherweise nicht den gewünschten Effekt in allen Gebietsschemas. Außerdem wählen .NET-Mitglieder die Standardkultur und -formatierung basierend auf Annahmen aus, die für Ihren Code möglicherweise nicht korrekt sind. Um sicherzustellen, dass der Code wie erwartet für Ihre Szenarien funktioniert, sollten Sie kulturspezifische Informationen gemäß den folgenden Richtlinien bereitstellen:

- Wenn der Wert dem Benutzer angezeigt wird, verwenden Sie die aktuelle Kultur. Siehe <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType>.

- Wenn der Wert von software gespeichert und aufgerufen wird, d. h. in einer Datei oder Datenbank beibehalten wird, verwenden Sie die invariante Kultur. Siehe <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.

- Wenn Sie das Ziel des Werts nicht kennen, lassen Sie den Datenverbraucher oder -anbieter die Kultur angeben.

Auch wenn das Standardverhalten des überladenen Elements für Ihre Anforderungen geeignet ist, ist es besser, die kulturspezifische Überladung explizit aufzurufen, damit Ihr Code selbst dokumentiert und einfacher verwaltet werden kann.

> [!NOTE]
> <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType>wird nur zum Abrufen lokalisierter Ressourcen mithilfe <xref:System.Resources.ResourceManager?displayProperty=nameWithType> einer Instanz der Klasse verwendet.

## <a name="how-to-fix-violations"></a>Behandeln von Verstößen

Um einen Verstoß gegen diese Regel zu beheben, verwenden Sie die Überladung, die ein <xref:System.Globalization.CultureInfo> Argument annimmt.

## <a name="when-to-suppress-warnings"></a>Wann Warnungen unterdrückt werden sollen

Es ist sicher, eine Warnung dieser Regel zu unterdrücken, wenn sicher ist, dass die Standardkultur die richtige Wahl ist und die Codewartbarkeit keine wichtige Entwicklungspriorität darstellt.

## <a name="configurability"></a>Konfigurierbarkeit

Wenn Sie diese Regel von [FxCop-Analysatoren](install-fxcop-analyzers.md) ausführen (und nicht mit Legacyanalyse), können Sie die Analyse für diese Regel konfigurieren.

### <a name="excluded-symbol-names"></a>Ausgeschlossene Symbolnamen

Sie können konfigurieren, welche Teile der Codebasis von der Analyse ausgeschlossen werden sollen. Um beispielsweise anzugeben, dass die Regel nicht für `MyType`Code innerhalb von Typen mit dem Namen ausgeführt werden soll, fügen Sie der .editorconfig-Datei in Ihrem Projekt das folgende Schlüssel-Wert-Paar hinzu:

```ini
dotnet_code_quality.CA1304.excluded_symbol_names = MyType
```

Zulässige Symbolnamenformate im Optionswert (getrennt durch '|'):

- Nur Symbolname (enthält alle Symbole mit dem Namen, unabhängig vom enthaltenden Typ oder Namespace)
- Vollqualifizierte Namen im [Dokumentations-ID-Format](https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format)des Symbols . Für jeden Symbolnamen ist ein Symboltyppräfix erforderlich, z. B. "M:"-Präfix für Methoden, "T:"-Präfix für Typen, "N:"-Präfix für Namespaces usw.
- `.ctor`für Konstruktoren `.cctor` und statische Konstruktoren

Beispiele:

| Optionswert | Zusammenfassung |
| --- | --- |
|`dotnet_code_quality.CA1304.excluded_symbol_names = MyType` | Entspricht allen Symbolen mit dem Namen 'MyType' in der Kompilierung
|`dotnet_code_quality.CA1304.excluded_symbol_names = MyType1|MyType2` | Entspricht allen Symbolen mit dem Namen 'MyType1' oder 'MyType2' in der Kompilierung
|`dotnet_code_quality.CA1304.excluded_symbol_names = M:NS.MyType.MyMethod(ParamType)` | Entspricht der spezifischen Methode 'MyMethod' mit einer angegebenen vollqualifizierten Signatur
|`dotnet_code_quality.CA1304.excluded_symbol_names = M:NS1.MyType1.MyMethod1(ParamType)|M:NS2.MyType2.MyMethod2(ParamType)` | Entspricht bestimmten Methoden 'MyMethod1' und 'MyMethod2' mit der jeweiligen vollqualifizierten Signatur

Sie können alle diese Optionen nur für diese Regel, für alle Regeln oder für alle Regeln in dieser Kategorie (Sicherheit) konfigurieren. Weitere Informationen finden Sie unter Konfigurieren von [FxCop-Analysatoren](configure-fxcop-analyzers.md).

## <a name="example-showing-how-to-fix-violations"></a>Beispiel zum Beheben von Verstößen

`BadMethod` Verursacht im folgenden Beispiel zwei Verstöße gegen diese Regel. `GoodMethod`korrigiert die erste Verletzung, indem die <xref:System.String.Compare%2A?displayProperty=nameWithType>invariante Kultur an übergeben wird, <xref:System.String.ToLower%2A?displayProperty=nameWithType> und `string3` korrigiert die zweite Verletzung, indem die aktuelle Kultur übergeben wird, weil sie dem Benutzer angezeigt wird.

[!code-csharp[FxCop.Globalization.CultureInfo#1](../code-quality/codesnippet/CSharp/ca1304-specify-cultureinfo_1.cs)]

## <a name="example-showing-formatted-output"></a>Beispiel für formatierte Ausgabe

Das folgende Beispiel zeigt die Auswirkungen <xref:System.IFormatProvider> der aktuellen Kultur <xref:System.DateTime> auf den Standardwert, der vom Typ ausgewählt wird.

[!code-csharp[FxCop.Globalization.IFormatProvider#1](../code-quality/codesnippet/CSharp/ca1304-specify-cultureinfo_2.cs)]

Dieses Beispiel erzeugt die folgende Ausgabe:

```txt
6/4/1900 12:15:12 PM
06/04/1900 12:15:12
```

## <a name="related-rules"></a>Verwandte Regeln

- [CA1305: IFormatProvider angeben](../code-quality/ca1305.md)

## <a name="see-also"></a>Siehe auch

- [Verwenden der CultureInfo-Klasse](/dotnet/standard/globalization-localization/globalization#work-with-culture-specific-settings)
